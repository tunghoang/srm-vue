<div class='panel'>
  <div class='panel-heading'>
    New project -{{idProject}}-
  </div>
  <div class='panel-block'>
    <div class='container'>
      <h4 class="has-text-danger has-background-danger-light has-text-centered"
              v-show="errorMessage && errorMessage.length > 0">{{errorMessage}}</h4>
      <div class="field">
        <label class='label'>Title</label>
        <div class='control'>
          <input class='input' type='text' v-model="dataProject.title" placeholder='title'>
        </div>
      </div>
      <div class="field">
        <label class='label'>Projecttype</label>
        <div class='control'>
          <dropdown-list class="min-width-8" :items="projecttypes" :selected-index="projecttypeSelectedIdx" :item-label-fn = "labelProjecttype" :on-select-changed="selectedProjecttype"
                    ></dropdown-list>
        </div>
      </div>
      <div class="field">
        <label class='label'>Semester</label>
        <div class='control'>
          <dropdown-list class="min-width-8" :items="semesters" :selected-index="semesterSelectedIdx" :item-label-fn="labelSemester" :on-select-changed="selectedSemester"
                    ></dropdown-list>
        </div>
      </div>
      <div class="field">
        <label class='label'>Description</label>
        <div class='control'>
          <textarea class='textarea' type='text' v-model="dataProject.description" placeholder='description'></textarea>
        </div>
      </div>
      <div v-if="idProject" class="field">
        <div class="columns">
          <div class="column">
            <label class="label">Advisor {{idProject}}</label>
            <router-link :to="`/newproject/addadvisor/idProject/${idProject}`">
              <span>
                Add Advisor
              </span>
            </router-link>
            <ul class="item-list">
              <li v-for="advisor in advisors" :key="advisor.idProjectAdvisorRel">
                  {{advisor.fullname}}
                  <a class="ml-2 is-size-7"  @click="deleteAdvisorRel(advisor.idProjectadvisorrel)">
                    [x] 
                    <!-- <ion-icon name="trash-outline"></ion-icon> -->
                  </a>
              </li>
            </ul>
          </div>
          <div class="column">
            <label class="label">Members</label>
            <router-link :to="`/newproject/addmember/idProject/${idProject}`">
              <span>
                Add members
              </span>
            </router-link>
            <ul class="item-list">
              <li v-for="member in members" :key="member.idProjectStudentRel">
                   {{member.fullname}} ({{member.studentNumber}}) 
                  <a class="ml-2 is-size-7" @click="deleteStudentRel(member.idProjectstudentrel)">
                    [x]
                  </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class='field is-grouped'>
        <div class='control'>
          <button @click="saveProject(dataProject)" class='button is-link'>
            <span class="icon">
              <ion-icon name="checkmark-circle"></ion-icon>
            </span>
            <span>Submit</span>
          </button>
        </div>
        <div class='control'>
          <button class='button is-link is-light' @click="goBack()">
            <span class="icon">
              <ion-icon name="arrow-back-circle"></ion-icon>
            </span>
            <span>Back</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
